$header: 44px;
$vheight: calc(95vh - $header);
$vwidth: calc(95vw - $header);
$vhDiff: 20.3vh;
$vwDiff: 10vw;

@mixin grid($size, $unit) {
  display: grid;
  grid-template-rows: repeat($size, $unit);
  grid-template-columns: repeat($size, $unit);
}

@mixin controls($height, $width) {
  .controls {
    display: flex;
    justify-content: start;
    align-items: center;
    flex-direction: column;
    background-color: brown;
  }

  @media (orientation: portrait) {
    .controls {
      height: auto;
      max-height: $height;
      width: $width;
      padding-top: 1vh;
    }
  }

  @media (orientation: landscape) {
    .controls {
      height: $height;
      width: $width;
      padding-top: 1vw;
    }
  }
}

.container,
.container-wrap,
.field,
.notes-grid-field {
  display: flex;
  justify-content: center;
  align-items: center;
}

.container,
.field,
.notes-grid {
  height: 100%;
  width: 100%;
}

.container {
  flex-direction: column;

  .scorebar {
    background-color: burlywood;
    color: black;
    text-align: center;

    @media (orientation: portrait) {
      width: $vwidth;
    }

    @media (orientation: landscape) {
      width: 100%;
    }
  }

  .container-wrap {
    flex-wrap: wrap;

    @media (orientation: landscape) and (min-aspect-ratio: 1.51/1) {
      .board {
        width: $vheight;
        height: $vheight;
        font-size: clamp(0em, 4vh, 3em);

        & * > .notes-grid-field {
          font-size: 0.5em;
        }
      }

      @include controls($vheight, calc($vwidth - $vheight));
    }

    @media (orientation: landscape) and (min-aspect-ratio: '1.33/1') and (max-aspect-ratio: '1.5/1') {
      .board {
        background: chartreuse;
        width: calc($vheight - $vhDiff);
        height: calc($vheight - $vhDiff);
        font-size: clamp(0em, 3.7vh, 3em);

        & * > .notes-grid-field {
          font-size: 0.5em;
        }
      }

      @include controls(calc($vheight - $vhDiff), calc($vwidth - $vheight + $vhDiff));
    }

    @media (orientation: portrait) and (max-aspect-ratio: '0.67/1') {
      .board {
        background-color: blue;

        width: $vwidth;
        height: $vwidth;
        font-size: clamp(0em, 5vw, 3em);

        & * > .notes-grid-field {
          font-size: 0.5em;
        }
      }

      @include controls(calc($vheight - $vwidth), $vwidth);
    }

    @media (orientation: portrait) and (min-aspect-ratio: '0.68/1') and (max-aspect-ratio: '1/1') {
      .board {
        background-color: chartreuse;
        width: calc($vwidth - $vwDiff);
        height: calc($vwidth - $vwDiff);
        font-size: clamp(0em, 4vw, 3em);

        & * > .notes-grid-field {
          font-size: 0.5em;
        }
      }

      @include controls(calc($vheight - $vwidth + $vwDiff), $vwidth);
    }

    .board {
      @include grid(var(--board-size), 1fr);
      border-left: 1px solid var(--ion-color-secondary);
      border-top: 1px solid var(--ion-color-secondary);

      & .field {
        color: #aaa;
        border-right: 1px solid var(--ion-color-secondary);
        border-bottom: 1px solid var(--ion-color-secondary);

        & .notes-grid {
          @include grid(3, 1fr);

          & .notes-grid-field {
          }
        }
      }
    }
  }
}
